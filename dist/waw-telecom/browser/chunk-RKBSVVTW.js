import{j as P,k as U,q as L,r as w,s as N,t as z,v as O,w as F}from"./chunk-DFGROVPY.js";import{Db as l,Eb as h,Fb as x,Na as a,Nb as T,Oa as v,Ob as d,Tb as f,Ub as _,bb as c,db as r,f as D,fb as u,ia as C,lb as n,mb as i,nb as g,rb as I,sa as b,sb as E,ta as k,tb as m,ua as S,uc as M,va as y,zc as A}from"./chunk-ERWM5BX3.js";var W=D(z());var B=()=>["/service"],V=()=>["/admin/commande"],H=()=>["/admin/offre"],j=()=>["/admin/compte"],G=()=>["/admin/destinations"],R=()=>["/admin/esims"],J=()=>["/admin/console-connect"],$=()=>["/admin/template-create"],q=()=>["/login"];function K(t,p){if(t&1&&(n(0,"a",19),l(1),f(2,"translate"),i()),t&2){let e=m();u("active",e.isHisActive()),a(),h(_(2,3,"navig.order_history"))}}function Q(t,p){if(t&1&&(n(0,"a",20),l(1),f(2,"translate"),i()),t&2){let e=m();u("active",e.isAchatActive()),r("routerLink",d(6,B)),a(),h(_(2,4,"navig.buy_esim"))}}function X(t,p){if(t&1&&(n(0,"a",20),l(1,"Commandes"),i()),t&2){let e=m();u("active",e.isCommandeActive()),r("routerLink",d(3,V))}}function Y(t,p){if(t&1&&(n(0,"a",20),l(1,"eSIM"),i()),t&2){let e=m();u("active",e.isOffreActive()),r("routerLink",d(3,H))}}function Z(t,p){if(t&1&&(n(0,"a",20),l(1,"Package"),i()),t&2){let e=m();u("active",e.isPackActive()),r("routerLink",d(3,j))}}function ee(t,p){if(t&1&&(n(0,"a",20),l(1,"Destinations"),i()),t&2){let e=m();u("active",e.isDestinationsActive()),r("routerLink",d(3,G))}}function te(t,p){if(t&1&&(n(0,"a",20),l(1,"Gestion eSIMs"),i()),t&2){let e=m();u("active",e.isEsimsActive()),r("routerLink",d(3,R))}}function ne(t,p){if(t&1&&(n(0,"a",20),l(1,"eSIM Connect\xE9e"),i()),t&2){let e=m();u("active",e.isConsoleConnectActive()),r("routerLink",d(3,J))}}function ie(t,p){if(t&1&&(n(0,"a",20),l(1,"Cr\xE9er Template"),i()),t&2){let e=m();u("active",e.isTemplateCreateActive()),r("routerLink",d(3,$))}}function re(t,p){t&1&&(n(0,"button",21),l(1,"Connexion"),i()),t&2&&r("routerLink",d(1,q))}function oe(t,p){if(t&1){let e=I();n(0,"button",22),E("click",function(){b(e);let o=m();return k(o.deconnexion())}),l(1),f(2,"translate"),i()}t&2&&(a(),x(" ",_(2,1,"navig.disc")," "))}function ae(t,p){t&1&&g(0,"app-language-selector")}var _e=(()=>{class t{isAchatActive(){return this.route.url.startsWith("/service")}isPackActive(){return this.route.url.startsWith("/admin/compte")}isHisActive(){return this.route.url.startsWith("/client/forfait")}constructor(e,s,o){this.loginService=e,this.route=s,this.encryptionService=o}ngOnInit(){let e=JSON.parse(localStorage.getItem("userInfo")||"{}");e&&(this.user=this.encryptionService.decryptData(e),console.log("Forfait d\xE9chiffr\xE9:",this.user));let s=localStorage.getItem("token");s&&(this.token=this.encryptionService.decryptData(s),console.log("Token d\xE9chiffr\xE9:",this.token)),this.token&&this.token!=="null"&&this.token!=="undefined"&&this.token.trim()!==""?(console.log("Token trouv\xE9 :",this.token),this.loggedIn=!0,this.loggedOut=!1):(console.log("Aucun token trouv\xE9"),this.loggedIn=!1,this.loggedOut=!0)}deconnexion(){this.loginService.logout().subscribe(e=>{console.log(e),this.showMessage("success","Felicitation",`${e.message}`),localStorage.removeItem("token"),this.route.navigate(["/"])},e=>{console.error("Erreur lors de la d\xE9connexion :",e),e.status===401?(this.showMessage("error","Erreur serveur","Votre token a expir\xE9, veuillez allez \xE0 la page de connexion."),this.route.navigate(["/login"])):this.showMessage("error","Erreur","Une erreur inattendue est survenue.")})}isCommandeActive(){return this.route.url.startsWith("/admin/commande")}isOffreActive(){return this.route.url.startsWith("/admin/offre")}isDestinationsActive(){return this.route.url.startsWith("/admin/destinations")}isEsimsActive(){return this.route.url.startsWith("/admin/esims")}isConsoleConnectActive(){return this.route.url.startsWith("/admin/console-connect")}isTemplateCreateActive(){return this.route.url.startsWith("/admin/template-create")}showMessage(e,s,o){W.default.fire({icon:e,title:s,text:o,confirmButtonColor:"#ffdd33"})}static{this.\u0275fac=function(s){return new(s||t)(v(O),v(P),v(F))}}static{this.\u0275cmp=C({type:t,selectors:[["app-navig"]],standalone:!0,features:[T],decls:34,vars:13,consts:[["id","nav",1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],[1,"ms-4"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24"],["fill","currentColor","d","M12 4a3.5 3.5 0 1 0 0 7a3.5 3.5 0 0 0 0-7M6.5 7.5a5.5 5.5 0 1 1 11 0a5.5 5.5 0 0 1-11 0M3 19a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v3H3zm5-3a3 3 0 0 0-3 3v1h14v-1a3 3 0 0 0-3-3z"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","ms-5"],["class","link",3,"active",4,"ngIf"],["class","link",3,"active","routerLink",4,"ngIf"],["class","link",3,"routerLink","active",4,"ngIf"],[1,"me-5"],["class","border-0 btndecon btn ",3,"routerLink",4,"ngIf"],[1,""],["class","border-0 btndecon btn ","type","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"link"],[1,"link",3,"routerLink"],[1,"border-0","btndecon","btn",3,"routerLink"],["type","button",1,"border-0","btndecon","btn",3,"click"]],template:function(s,o){s&1&&(n(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),S(),n(4,"svg",4),g(5,"path",5),i()(),l(6),i(),y(),n(7,"button",6),g(8,"span",7),i(),n(9,"div",8)(10,"ul",9)(11,"li",10),c(12,K,3,5,"a",11),i(),n(13,"li",10),c(14,Q,3,7,"a",12),i(),n(15,"li",10),c(16,X,2,4,"a",13),i(),n(17,"li",10),c(18,Y,2,4,"a",13),i(),n(19,"li",10),c(20,Z,2,4,"a",13),i(),n(21,"li",10),c(22,ee,2,4,"a",13),i(),n(23,"li",10),c(24,te,2,4,"a",13),i(),n(25,"li",10),c(26,ne,2,4,"a",13),i(),n(27,"li",10),c(28,ie,2,4,"a",13),i()(),n(29,"div",14),c(30,re,2,2,"button",15),n(31,"div",16),c(32,oe,3,3,"button",17),i()(),c(33,ae,1,0,"app-language-selector",18),i()()()),s&2&&(a(6),x(" ",o.user.name,""),a(6),r("ngIf",o.user.role_id==2),a(2),r("ngIf",o.user.role_id==2),a(2),r("ngIf",o.user.role_id==1),a(2),r("ngIf",o.user.role_id==1),a(2),r("ngIf",o.user.role_id==1),a(2),r("ngIf",o.user.role_id==1),a(2),r("ngIf",o.user.role_id==1),a(2),r("ngIf",o.user.role_id==1),a(2),r("ngIf",o.user.role_id==1),a(2),r("ngIf",o.loggedOut),a(2),r("ngIf",o.loggedIn),a(),r("ngIf",o.user.role_id==2))},dependencies:[U,A,M,N,w,L],styles:[".btndecon[_ngcontent-%COMP%]{background-color:#333;color:#fff}#nav[_ngcontent-%COMP%]{background-color:#fd3!important}.link[_ngcontent-%COMP%]{color:#000;font-size:15px;font-weight:700}.nav-item[_ngcontent-%COMP%]:hover{background-color:#333;padding:10px;border-radius:2%}.link[_ngcontent-%COMP%]:hover{color:#fff!important}.active[_ngcontent-%COMP%]{background-color:#333;padding:10px;border-radius:2%;color:#fff!important}@media (max-width:912px){.active[_ngcontent-%COMP%]{color:#333!important;text-decoration:underline!important;background-color:#fd3!important}}"]})}}return t})();export{_e as a};
