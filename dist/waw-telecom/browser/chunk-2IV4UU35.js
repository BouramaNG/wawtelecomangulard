import{c as F,d as N,e as X}from"./chunk-MJKHEBY7.js";import{i as J,j as Y,k as $,n as z,o as se,q as U,r as q,s as K,t as Q,u as Z,v as ee}from"./chunk-XE4ETZ4P.js";import{$ as M,Bc as S,Eb as W,Fb as r,Gb as C,Hb as c,Ib as B,Ob as y,Pb as v,Qa as o,Qb as V,Ra as h,Ub as p,Vb as d,Wb as L,Xb as R,eb as m,f as le,gb as s,ib as x,ja as _,jb as j,ka as P,ob as n,pb as i,qb as f,ta as E,ua as O,ub as k,uc as G,va as I,vb as D,vc as T,wa as w,wb as g,yc as H}from"./chunk-JTHFZUJU.js";var te=le(se());var me=()=>["/service"],ue=()=>["/admin/commande"],fe=()=>["/admin/offre"],ge=()=>["/admin/compte"],xe=()=>["/admin/destinations"],ve=()=>["/admin/esims"],he=()=>["/admin/console-connect"],_e=()=>["/admin/template-create"],Ce=()=>["/login"];function ye(t,u){if(t&1&&(n(0,"a",19),r(1),p(2,"translate"),i()),t&2){let e=g();x("active",e.isHisActive()),o(),C(d(2,3,"navig.order_history"))}}function Se(t,u){if(t&1&&(n(0,"a",20),r(1),p(2,"translate"),i()),t&2){let e=g();x("active",e.isAchatActive()),s("routerLink",v(6,me)),o(),C(d(2,4,"navig.buy_esim"))}}function be(t,u){if(t&1&&(n(0,"a",20),r(1,"Liste Commande"),i()),t&2){let e=g();x("active",e.isCommandeActive()),s("routerLink",v(3,ue))}}function Me(t,u){if(t&1&&(n(0,"a",20),r(1,"Gestion eSim"),i()),t&2){let e=g();x("active",e.isOffreActive()),s("routerLink",v(3,fe))}}function Pe(t,u){if(t&1&&(n(0,"a",20),r(1,"Gestion Package"),i()),t&2){let e=g();x("active",e.isPackActive()),s("routerLink",v(3,ge))}}function Ee(t,u){if(t&1&&(n(0,"a",20),r(1,"Destinations"),i()),t&2){let e=g();x("active",e.isDestinationsActive()),s("routerLink",v(3,xe))}}function Oe(t,u){if(t&1&&(n(0,"a",20),r(1,"Gestion eSIMs"),i()),t&2){let e=g();x("active",e.isEsimsActive()),s("routerLink",v(3,ve))}}function Ie(t,u){if(t&1&&(n(0,"a",20),r(1,"eSIM Connect\xE9e"),i()),t&2){let e=g();x("active",e.isConsoleConnectActive()),s("routerLink",v(3,he))}}function we(t,u){if(t&1&&(n(0,"a",20),r(1,"Cr\xE9er Template"),i()),t&2){let e=g();x("active",e.isTemplateCreateActive()),s("routerLink",v(3,_e))}}function ke(t,u){t&1&&(n(0,"button",21),r(1,"Connexion"),i()),t&2&&s("routerLink",v(1,Ce))}function De(t,u){if(t&1){let e=k();n(0,"button",22),D("click",function(){E(e);let a=g();return O(a.deconnexion())}),r(1),p(2,"translate"),i()}t&2&&(o(),c(" ",d(2,1,"navig.disc")," "))}function Te(t,u){t&1&&f(0,"app-language-selector")}var ne=(()=>{class t{isAchatActive(){return this.route.url.startsWith("/service")}isPackActive(){return this.route.url.startsWith("/admin/compte")}isHisActive(){return this.route.url.startsWith("/client/forfait")}constructor(e,l,a){this.loginService=e,this.route=l,this.encryptionService=a}ngOnInit(){try{let e=localStorage.getItem("userInfo");if(e)try{let a=e;try{a=JSON.parse(e)}catch{}this.user=this.encryptionService.decryptData(a),console.log("Utilisateur d\xE9chiffr\xE9:",this.user)}catch(a){console.warn("Erreur lors du d\xE9chiffrement userInfo:",a)}localStorage.getItem("token")&&(this.token=this.encryptionService.getDecryptedToken(),console.log("Token d\xE9chiffr\xE9:",this.token))}catch(e){console.error("Erreur dans ngOnInit navig:",e)}this.token&&this.token!=="null"&&this.token!=="undefined"&&this.token.trim()!==""?(console.log("Token trouv\xE9 :",this.token),this.loggedIn=!0,this.loggedOut=!1):(console.log("Aucun token trouv\xE9"),this.loggedIn=!1,this.loggedOut=!0)}deconnexion(){this.loginService.logout().subscribe(e=>{console.log(e),this.showMessage("success","Felicitation",`${e.message}`),localStorage.removeItem("token"),this.route.navigate(["/"])},e=>{console.error("Erreur lors de la d\xE9connexion :",e),e.status===401?(this.showMessage("error","Erreur serveur","Votre token a expir\xE9, veuillez allez \xE0 la page de connexion."),this.route.navigate(["/login"])):this.showMessage("error","Erreur","Une erreur inattendue est survenue.")})}isCommandeActive(){return this.route.url.startsWith("/admin/commande")}isOffreActive(){return this.route.url.startsWith("/admin/offre")}isDestinationsActive(){return this.route.url.startsWith("/admin/destinations")}isEsimsActive(){return this.route.url.startsWith("/admin/esims")}isConsoleConnectActive(){return this.route.url.startsWith("/admin/console-connect")}isTemplateCreateActive(){return this.route.url.startsWith("/admin/template-create")}showMessage(e,l,a){te.default.fire({icon:e,title:l,text:a,confirmButtonColor:"#ffdd33"})}static{this.\u0275fac=function(l){return new(l||t)(h(q),h(Y),h(U))}}static{this.\u0275cmp=_({type:t,selectors:[["app-navig"]],standalone:!0,features:[y],decls:34,vars:13,consts:[["id","nav",1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","#",1,"navbar-brand"],[1,"ms-4"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24"],["fill","currentColor","d","M12 4a3.5 3.5 0 1 0 0 7a3.5 3.5 0 0 0 0-7M6.5 7.5a5.5 5.5 0 1 1 11 0a5.5 5.5 0 0 1-11 0M3 19a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v3H3zm5-3a3 3 0 0 0-3 3v1h14v-1a3 3 0 0 0-3-3z"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","ms-5"],["class","link",3,"active",4,"ngIf"],["class","link",3,"active","routerLink",4,"ngIf"],["class","link",3,"routerLink","active",4,"ngIf"],[1,"me-5"],["class","border-0 btndecon btn ",3,"routerLink",4,"ngIf"],[1,""],["class","border-0 btndecon btn ","type","button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"link"],[1,"link",3,"routerLink"],[1,"border-0","btndecon","btn",3,"routerLink"],["type","button",1,"border-0","btndecon","btn",3,"click"]],template:function(l,a){l&1&&(n(0,"nav",0)(1,"div",1)(2,"a",2)(3,"span",3),I(),n(4,"svg",4),f(5,"path",5),i()(),r(6),i(),w(),n(7,"button",6),f(8,"span",7),i(),n(9,"div",8)(10,"ul",9)(11,"li",10),m(12,ye,3,5,"a",11),i(),n(13,"li",10),m(14,Se,3,7,"a",12),i(),n(15,"li",10),m(16,be,2,4,"a",13),i(),n(17,"li",10),m(18,Me,2,4,"a",13),i(),n(19,"li",10),m(20,Pe,2,4,"a",13),i(),n(21,"li",10),m(22,Ee,2,4,"a",13),i(),n(23,"li",10),m(24,Oe,2,4,"a",13),i(),n(25,"li",10),m(26,Ie,2,4,"a",13),i(),n(27,"li",10),m(28,we,2,4,"a",13),i()(),n(29,"div",14),m(30,ke,2,2,"button",15),n(31,"div",16),m(32,De,3,3,"button",17),i()(),m(33,Te,1,0,"app-language-selector",18),i()()()),l&2&&(o(6),c(" ",a.user.name,""),o(6),s("ngIf",a.user.role_id==2),o(2),s("ngIf",a.user.role_id==2),o(2),s("ngIf",a.user.role_id==1),o(2),s("ngIf",a.user.role_id==1),o(2),s("ngIf",a.user.role_id==1),o(2),s("ngIf",a.user.role_id==1),o(2),s("ngIf",a.user.role_id==1),o(2),s("ngIf",a.user.role_id==1),o(2),s("ngIf",a.user.role_id==1),o(2),s("ngIf",a.loggedOut),o(2),s("ngIf",a.loggedIn),o(),s("ngIf",a.user.role_id==2))},dependencies:[$,S,T,X,N,F],styles:[".btndecon[_ngcontent-%COMP%]{background-color:#333;color:#fff}#nav[_ngcontent-%COMP%]{background-color:#fd3!important}.link[_ngcontent-%COMP%]{color:#000;font-size:15px;font-weight:700}.nav-item[_ngcontent-%COMP%]:hover{background-color:#333;padding:10px;border-radius:2%}.link[_ngcontent-%COMP%]:hover{color:#fff!important}.active[_ngcontent-%COMP%]{background-color:#333;padding:10px;border-radius:2%;color:#fff!important}@media (max-width:912px){.active[_ngcontent-%COMP%]{color:#333!important;text-decoration:underline!important;background-color:#fd3!important}}"]})}}return t})();var ie=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-client"]],standalone:!0,features:[y],decls:4,vars:0,consts:[[1,"dashboard-layout"]],template:function(l,a){l&1&&(n(0,"div",0),f(1,"app-navig"),n(2,"main"),f(3,"router-outlet"),i()())},dependencies:[ne,J]})}}return t})();var Fe=t=>({itemsPerPage:6,currentPage:t});function Ne(t,u){if(t&1&&(n(0,"div",23)(1,"p"),f(2,"i",24),n(3,"strong"),r(4,"Nom complet :"),i(),r(5),i(),n(6,"p"),f(7,"i",25),n(8,"strong"),r(9,"Email :"),i(),r(10),i(),n(11,"p"),f(12,"i",26),n(13,"strong"),r(14,"T\xE9l\xE9phone :"),i(),r(15),i(),n(16,"p"),f(17,"i",27),n(18,"strong"),r(19,"Date de cr\xE9ation :"),i(),r(20),p(21,"date"),i()()),t&2){let e=g();o(5),c(" ",e.userConnect.name,""),o(5),c(" ",e.userConnect.email,""),o(5),c(" ",e.userConnect.phone,""),o(5),c(" ",d(21,4,e.userConnect.created_at),"")}}function Ue(t,u){t&1&&(n(0,"p",28),r(1,"\u26A0\uFE0F Aucune information utilisateur disponible."),i())}function Ae(t,u){if(t&1&&(n(0,"div",29)(1,"div",30)(2,"a",31)(3,"div",32)(4,"h5",33),r(5),i()(),n(6,"div",34)(7,"p"),r(8,"\u{1F4CC} "),n(9,"strong"),r(10),p(11,"translate"),i(),n(12,"span"),r(13),p(14,"translate"),p(15,"translate"),i()(),n(16,"p"),r(17,"\u{1F4B0} "),n(18,"strong"),r(19),p(20,"translate"),i(),r(21),i(),n(22,"p"),r(23,"\u{1F4B3} "),n(24,"strong"),r(25),p(26,"translate"),i(),r(27),i(),n(28,"p"),r(29,"\u{1F516} "),n(30,"strong"),r(31),p(32,"translate"),i(),r(33),i(),n(34,"p"),r(35,"\u{1F30D} "),n(36,"strong"),r(37),p(38,"translate"),i(),r(39),i(),n(40,"p"),r(41,"\u231A "),n(42,"strong"),r(43),p(44,"translate"),i(),r(45),p(46,"translate"),i()(),n(47,"div",35),r(48),p(49,"translate"),p(50,"date"),i()()()()),t&2){let e=u.$implicit;o(5),C(e.order.esim_package.plan_name),o(5),c("",d(11,18,"forfait.status"),":"),o(2),j(e.order.status==="paid"?"text-success":"text-danger"),o(),c(" ",e.order.status==="paid"?d(14,20,"forfait.payment_done"):d(15,22,"forfait.pending")," "),o(6),c("",d(20,24,"forfait.amount"),":"),o(2),c(" ",e.amount," XOF"),o(4),c("",d(26,26,"forfait.payment_method"),":"),o(2),c(" ",e.provider,""),o(4),c("",d(32,28,"forfait.reference"),":"),o(2),c(" ",e.transaction_reference,""),o(4),c("",d(38,30,"forfait.country"),":"),o(2),c(" ",e.order.esim_package.country_name,""),o(4),c("",d(44,32,"forfait.validity"),":"),o(2),B(" ",e.order.esim_package.validity_days," ",d(46,34,"forfait.validity_days"),""),o(3),B(" \u{1F4C5} ",d(49,36,"forfait.date"),": ",L(50,38,e.updated_at,"dd/MM/yyyy")," ")}}function Be(t,u){t&1&&(n(0,"div")(1,"p",36),r(2),p(3,"translate"),i()()),t&2&&(o(2),C(d(3,1,"forfait.no_packages")))}var re=(()=>{class t{constructor(e,l){this.orderService=e,this.encryptionService=l,this.paiementUser=[],this.page=1}ngOnInit(){this.getOrder(),this.getPaie();let e=JSON.parse(localStorage.getItem("userInfo")||"{}");if(e)return this.userConnect=this.encryptionService.decryptData(e),this.userConnect}getPaie(){this.orderService.listePaiement().subscribe(e=>{this.paiement=e.payments,console.log(this.paiement),this.paiementUser=this.paiement.filter(l=>l.order.user_id==this.userConnect.id)})}getOrder(){this.orderService.listOrder().subscribe(e=>{this.commandes=e.orders,console.log(this.commandes),this.commandeUser=this.commandes.filter(l=>l.user_id==this.userConnect.id)})}static{this.\u0275fac=function(l){return new(l||t)(h(ee),h(U))}}static{this.\u0275cmp=_({type:t,selectors:[["app-forfait"]],standalone:!0,features:[y],decls:32,vars:12,consts:[["noUserData",""],[1,"info","container"],[1,"card-user","row","mt-5","p-4","shadow-lg","rounded-4","pro"],[1,"avatar-container","text-center"],["src","https://www.pngmart.com/files/23/Profile-PNG-Photo.png","alt","Avatar de l'utilisateur",1,"avatar"],[1,"user-details","mt-4"],[1,"title","text-center","mb-4"],["class","info-section ",4,"ngIf","ngIfElse"],[1,"text-center","mt-5"],[1,"cartes","mb-5","row","g-4"],["class","col-md-4",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pagination",3,"pageChange"],[1,"header"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 24 150 28","preserveAspectRatio","none","shape-rendering","auto",1,"waves"],["id","gentle-wave","d","M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"],[1,"parallax"],[0,"xlink","href","#gentle-wave","x","48","y","0","fill","rgba(255,255,255,0.7"],[0,"xlink","href","#gentle-wave","x","48","y","3","fill","rgba(255,255,255,0.5)"],[0,"xlink","href","#gentle-wave","x","48","y","5","fill","rgba(255,255,255,0.3)"],[0,"xlink","href","#gentle-wave","x","48","y","7","fill","#fff"],[1,"content","flex"],[1,"fw-bold"],[1,"info-section"],[1,"fas","fa-user"],[1,"fas","fa-envelope"],[1,"fas","fa-phone"],[1,"fas","fa-calendar-alt"],[1,"text-danger","text-center"],[1,"col-md-4"],[1,"card","shadow-lg","border-0","rounded-4","h-100","p-3","custom-card"],[1,"text-decoration-none","text-dark"],[1,"card-header","text-center","rounded-3","mb-3"],[1,"mb-0","fs-2"],[1,"contenu","p-3"],[1,"card-footer","text-muted","text-center","rounded-3"],[1,"text-center","text-danger"]],template:function(l,a){if(l&1){let b=k();n(0,"main")(1,"section",1)(2,"div",2)(3,"div",3),f(4,"img",4),i(),n(5,"div",5)(6,"h3",6),r(7,"\u{1F464} Informations de l'utilisateur"),i(),m(8,Ne,22,6,"div",7)(9,Ue,2,0,"ng-template",null,0,R),i()()(),n(11,"h2",8),r(12),p(13,"translate"),i(),n(14,"section",9),m(15,Ae,51,41,"div",10),p(16,"paginate"),m(17,Be,4,3,"div",11),n(18,"pagination-controls",12),D("pageChange",function(ae){return E(b),O(a.page=ae)}),i()(),n(19,"div",13)(20,"div"),I(),n(21,"svg",14)(22,"defs"),f(23,"path",15),i(),n(24,"g",16),f(25,"use",17)(26,"use",18)(27,"use",19)(28,"use",20),i()()()(),w(),n(29,"div",21)(30,"p",22),r(31,"WawTelecom "),i()()()}if(l&2){let b=W(10);o(8),s("ngIf",a.userConnect)("ngIfElse",b),o(4),c(" ",d(13,5,"forfait.title"),`
`),o(3),s("ngForOf",L(16,7,a.paiementUser,V(10,Fe,a.page))),o(2),s("ngIf",a.paiementUser.length==0)}},dependencies:[S,G,T,H,Z,K,Q,N,F],styles:[".cartes[_ngcontent-%COMP%]{width:80%;margin:0 auto}.card[_ngcontent-%COMP%]{box-shadow:0 4px 8px #0000001a;border-radius:28px}@media (max-width:912px){.cartes[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;margin:0 auto}.card[_ngcontent-%COMP%]{width:90%}}body[_ngcontent-%COMP%]{margin:0}h1[_ngcontent-%COMP%]{font-family:Lato,sans-serif;font-weight:300;letter-spacing:2px;font-size:48px}p[_ngcontent-%COMP%]{font-family:Lato,sans-serif;letter-spacing:1px;font-size:14px;color:#333}.header[_ngcontent-%COMP%]{position:relative;text-align:center;background:linear-gradient(60deg,#fd3,#333);color:#fd3}.logo[_ngcontent-%COMP%]{width:50px;fill:#fd3;padding-right:15px;display:inline-block;vertical-align:middle}.inner-header[_ngcontent-%COMP%]{height:65vh;width:100%;margin:0;padding:0}.flex[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center}.waves[_ngcontent-%COMP%]{position:relative;width:100%;height:15vh;margin-bottom:-7px;min-height:100px;max-height:150px}.content[_ngcontent-%COMP%]{position:relative;height:8vh;text-align:center;background-color:#fd3}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_move-forever 25s cubic-bezier(.55,.5,.45,.5) infinite}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]:nth-child(1){animation-delay:-2s;animation-duration:7s}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]:nth-child(2){animation-delay:-3s;animation-duration:10s}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]:nth-child(3){animation-delay:-4s;animation-duration:13s}.parallax[_ngcontent-%COMP%] > use[_ngcontent-%COMP%]:nth-child(4){animation-delay:-5s;animation-duration:20s}@keyframes _ngcontent-%COMP%_move-forever{0%{transform:translate3d(-90px,0,0)}to{transform:translate3d(85px,0,0)}}@media (max-width: 768px){.waves[_ngcontent-%COMP%]{height:40px;min-height:40px}.content[_ngcontent-%COMP%]{height:30vh}h1[_ngcontent-%COMP%]{font-size:24px}}.custom-card[_ngcontent-%COMP%]{transition:transform .3s ease,box-shadow .3s ease;background-color:#fff;border-radius:16px}.custom-card[_ngcontent-%COMP%]:hover{transform:translateY(-10px);box-shadow:0 12px 20px #00000026}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fd3,#333);color:#fff;padding:1rem;font-weight:700;border-radius:12px}.text-success[_ngcontent-%COMP%]{color:#28a745!important}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.card-footer[_ngcontent-%COMP%]{background-color:#f8f9fa;font-size:.9rem;padding:.75rem;border-radius:12px}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fd3}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:2rem}.info[_ngcontent-%COMP%]{margin:0 auto;width:60%}.card-user[_ngcontent-%COMP%]{background:linear-gradient(135deg,#333,#333333c0,#fd3);border-radius:20px;color:#fff;padding:30px;box-shadow:0 12px 30px #0000004d;transition:transform .3s ease-in-out}.card-user[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.avatar-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.avatar[_ngcontent-%COMP%]{width:120px;height:120px;border-radius:50%;object-fit:cover;border:4px solid #fff;box-shadow:0 5px 20px #0006}.user-details[_ngcontent-%COMP%]{padding:20px;text-align:center}.title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:700;margin-bottom:20px}.info-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;margin:10px 0;display:flex;align-items:center;justify-content:center;gap:10px;color:#fff}.info-section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:gold;font-size:1.2rem}.text-danger[_ngcontent-%COMP%]{font-weight:700;font-size:1.1rem}@media (max-width: 768px){.card-user[_ngcontent-%COMP%]{padding:20px}.avatar[_ngcontent-%COMP%]{width:90px;height:90px}.title[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return t})();var Le=[{path:"",component:ie,children:[{path:"forfait",component:re}]}],oe=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275mod=P({type:t})}static{this.\u0275inj=M({imports:[z.forChild(Le),z]})}}return t})();var st=(()=>{class t{static{this.\u0275fac=function(l){return new(l||t)}}static{this.\u0275mod=P({type:t})}static{this.\u0275inj=M({imports:[S,oe]})}}return t})();export{st as ClientModule};
