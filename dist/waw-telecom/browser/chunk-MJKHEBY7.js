import{$ as se,A as H,B as G,Bc as ve,C as ie,Ca as j,Fb as x,Gb as _,I as ae,L,Oa as de,Ob as fe,Qa as d,Ra as b,T as $,V as Y,_ as g,a as B,ba as w,da as o,dc as pe,eb as A,gb as k,ib as q,ja as re,ka as oe,ma as le,ob as l,pb as u,qb as F,s as v,ta as ue,u as f,ua as ce,ub as he,uc as me,va as E,vb as V,vc as Ce,w as U,wa as ge,wb as R,xa as I}from"./chunk-JTHFZUJU.js";var p=class{},Le=(()=>{class t extends p{getTranslation(e){return v({})}static \u0275fac=(()=>{let e;return function(i){return(e||(e=I(t)))(i||t)}})();static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),D=class{},we=(()=>{class t{handle(e){return e.key}static \u0275fac=function(n){return new(n||t)};static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})();function K(t,r){if(t===r)return!0;if(t===null||r===null)return!1;if(t!==t&&r!==r)return!0;let e=typeof t,n=typeof r,i,a,s;if(e==n&&e=="object")if(Array.isArray(t)){if(!Array.isArray(r))return!1;if((i=t.length)==r.length){for(a=0;a<i;a++)if(!K(t[a],r[a]))return!1;return!0}}else{if(Array.isArray(r))return!1;s=Object.create(null);for(a in t){if(!K(t[a],r[a]))return!1;s[a]=!0}for(a in r)if(!(a in s)&&typeof r[a]<"u")return!1;return!0}return!1}function h(t){return typeof t<"u"&&t!==null}function M(t){return N(t)&&!te(t)&&t!==null}function N(t){return typeof t=="object"}function te(t){return Array.isArray(t)}function ne(t){return typeof t=="string"}function Te(t){return typeof t=="function"}function J(t,r){let e=Object.assign({},t);return N(t)?(N(t)&&N(r)&&Object.keys(r).forEach(n=>{M(r[n])?n in t?e[n]=J(t[n],r[n]):Object.assign(e,{[n]:r[n]}):Object.assign(e,{[n]:r[n]})}),e):J({},r)}function W(t,r){let e=r.split(".");r="";do r+=e.shift(),h(t)&&h(t[r])&&(M(t[r])||te(t[r])||!e.length)?(t=t[r],r=""):e.length?r+=".":t=void 0;while(e.length);return t}function Me(t,r,e){let n=r.split("."),i=t;for(let a=0;a<n.length;a++){let s=n[a];a===n.length-1?i[s]=e:((!i[s]||!M(i[s]))&&(i[s]={}),i=i[s])}}var m=class{},be=(()=>{class t extends m{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(e,n){if(ne(e))return this.interpolateString(e,n);if(Te(e))return this.interpolateFunction(e,n)}interpolateFunction(e,n){return e(n)}interpolateString(e,n){return n?e.replace(this.templateMatcher,(i,a)=>{let s=W(n,a);return h(s)?s:i}):e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=I(t)))(i||t)}})();static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),C=class{},xe=(()=>{class t extends C{compile(e,n){return e}compileTranslations(e,n){return e}static \u0275fac=(()=>{let e;return function(i){return(e||(e=I(t)))(i||t)}})();static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})(),S=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new j;onLangChange=new j;onDefaultLangChange=new j},X=new w("ISOLATE_TRANSLATE_SERVICE"),Z=new w("USE_DEFAULT_LANG"),Q=new w("DEFAULT_LANGUAGE"),ee=new w("USE_EXTEND"),y=t=>f(t)?t:v(t),T=(()=>{class t{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;extend;loadingTranslations;pending=!1;_translationRequests={};lastUseLanguage=null;get onTranslationChange(){return this.store.onTranslationChange}get onLangChange(){return this.store.onLangChange}get onDefaultLangChange(){return this.store.onDefaultLangChange}get defaultLang(){return this.store.defaultLang}set defaultLang(e){this.store.defaultLang=e}get currentLang(){return this.store.currentLang}set currentLang(e){this.store.currentLang=e}get langs(){return this.store.langs}set langs(e){this.store.langs=e}get translations(){return this.store.translations}set translations(e){this.store.translations=e}constructor(e,n,i,a,s,z=!0,c=!1,P=!1,O){this.store=e,this.currentLoader=n,this.compiler=i,this.parser=a,this.missingTranslationHandler=s,this.useDefaultLang=z,this.extend=P,c&&(this.store=new S),O&&this.setDefaultLang(O)}setDefaultLang(e){if(e===this.defaultLang)return;let n=this.retrieveTranslations(e);typeof n<"u"?(this.defaultLang==null&&(this.defaultLang=e),n.pipe(L(1)).subscribe(()=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(this.lastUseLanguage=e,e===this.currentLang)return v(this.translations[e]);this.currentLang||(this.currentLang=e);let n=this.retrieveTranslations(e);return f(n)?(n.pipe(L(1)).subscribe(()=>{this.changeLang(e)}),n):(this.changeLang(e),v(this.translations[e]))}changeLang(e){e===this.lastUseLanguage&&(this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),this.defaultLang==null&&this.changeDefaultLang(e))}retrieveTranslations(e){if(typeof this.translations[e]>"u"||this.extend)return this._translationRequests[e]=this._translationRequests[e]||this.loadAndCompileTranslations(e),this._translationRequests[e]}getTranslation(e){return this.loadAndCompileTranslations(e)}loadAndCompileTranslations(e){this.pending=!0;let n=this.currentLoader.getTranslation(e).pipe($(1),L(1));return this.loadingTranslations=n.pipe(U(i=>this.compiler.compileTranslations(i,e)),$(1),L(1)),this.loadingTranslations.subscribe({next:i=>{this.translations[e]=this.extend&&this.translations[e]?B(B({},i),this.translations[e]):i,this.updateLangs(),this.pending=!1},error:i=>{this.pending=!1}}),n}setTranslation(e,n,i=!1){let a=this.compiler.compileTranslations(n,e);(i||this.extend)&&this.translations[e]?this.translations[e]=J(this.translations[e],a):this.translations[e]=a,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){let n=e.filter(i=>!this.langs.includes(i));n.length>0&&(this.langs=[...this.langs,...n])}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResultForKey(e,n,i){let a;if(e&&(a=this.runInterpolation(W(e,n),i)),a===void 0&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(a=this.runInterpolation(W(this.translations[this.defaultLang],n),i)),a===void 0){let s={key:n,translateService:this};typeof i<"u"&&(s.interpolateParams=i),a=this.missingTranslationHandler.handle(s)}return a!==void 0?a:n}runInterpolation(e,n){if(te(e))return e.map(i=>this.runInterpolation(i,n));if(M(e)){let i={};for(let a in e){let s=this.runInterpolation(e[a],n);s!==void 0&&(i[a]=s)}return i}else return this.parser.interpolate(e,n)}getParsedResult(e,n,i){if(n instanceof Array){let a={},s=!1;for(let c of n)a[c]=this.getParsedResultForKey(e,c,i),s=s||f(a[c]);if(!s)return a;let z=n.map(c=>y(a[c]));return ie(z).pipe(U(c=>{let P={};return c.forEach((O,Se)=>{P[n[Se]]=O}),P}))}return this.getParsedResultForKey(e,n,i)}get(e,n){if(!h(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return this.pending?this.loadingTranslations.pipe(ae(i=>y(this.getParsedResult(i,e,n)))):y(this.getParsedResult(this.translations[this.currentLang],e,n))}getStreamOnTranslationChange(e,n){if(!h(e)||!e.length)throw new Error('Parameter "key" is required and cannot be empty');return H(G(()=>this.get(e,n)),this.onTranslationChange.pipe(Y(i=>{let a=this.getParsedResult(i.translations,e,n);return y(a)})))}stream(e,n){if(!h(e)||!e.length)throw new Error('Parameter "key" required');return H(G(()=>this.get(e,n)),this.onLangChange.pipe(Y(i=>{let a=this.getParsedResult(i.translations,e,n);return y(a)})))}instant(e,n){if(!h(e)||e.length===0)throw new Error('Parameter "key" is required and cannot be empty');let i=this.getParsedResult(this.translations[this.currentLang],e,n);return f(i)?Array.isArray(e)?e.reduce((a,s)=>(a[s]=s,a),{}):e:i}set(e,n,i=this.currentLang){Me(this.translations[i],e,ne(n)?this.compiler.compile(n,i):this.compiler.compileTranslations(n,i)),this.updateLangs(),this.onTranslationChange.emit({lang:i,translations:this.translations[i]})}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.loadAndCompileTranslations(e)}resetLang(e){delete this._translationRequests[e],delete this.translations[e]}getBrowserLang(){if(typeof window>"u"||!window.navigator)return;let e=this.getBrowserCultureLang();return e?e.split(/[-_]/)[0]:void 0}getBrowserCultureLang(){if(!(typeof window>"u"||typeof window.navigator>"u"))return window.navigator.languages?window.navigator.languages[0]:window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}static \u0275fac=function(n){return new(n||t)(o(S),o(p),o(C),o(m),o(D),o(Z),o(X),o(ee),o(Q))};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $e=(()=>{class t{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(e,n){this.translate=e,this._ref=n}updateValue(e,n,i){let a=s=>{this.value=s!==void 0?s:e,this.lastKey=e,this._ref.markForCheck()};if(i){let s=this.translate.getParsedResult(i,e,n);f(s)?s.subscribe(a):a(s)}this.translate.get(e,n).subscribe(a)}transform(e,...n){if(!e||!e.length)return e;if(K(e,this.lastKey)&&K(n,this.lastParams))return this.value;let i;if(h(n[0])&&n.length)if(ne(n[0])&&n[0].length){let a=n[0].replace(/(')?([a-zA-Z0-9_]+)(')?(\s)?:/g,'"$2":').replace(/:(\s)?(')(.*?)(')/g,':"$3"');try{i=JSON.parse(a)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else M(n[0])&&(i=n[0]);return this.lastKey=e,this.lastParams=n,this.updateValue(e,i),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(a=>{this.lastKey&&a.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,i,a.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(a=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i,a.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,i))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||t)(b(T,16),b(pe,16))};static \u0275pipe=le({name:"translate",type:t,pure:!1,standalone:!0});static \u0275prov=g({token:t,factory:t.\u0275fac})}return t})();var ye=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[e.loader||{provide:p,useClass:Le},e.compiler||{provide:C,useClass:xe},e.parser||{provide:m,useClass:be},e.missingTranslationHandler||{provide:D,useClass:we},S,{provide:X,useValue:e.isolate},{provide:Z,useValue:e.useDefaultLang},{provide:ee,useValue:e.extend},{provide:Q,useValue:e.defaultLanguage},T]}}static forChild(e={}){return{ngModule:t,providers:[e.loader||{provide:p,useClass:Le},e.compiler||{provide:C,useClass:xe},e.parser||{provide:m,useClass:be},e.missingTranslationHandler||{provide:D,useClass:we},{provide:X,useValue:e.isolate},{provide:Z,useValue:e.useDefaultLang},{provide:ee,useValue:e.extend},{provide:Q,useValue:e.defaultLanguage},T]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=oe({type:t});static \u0275inj=se({})}return t})();var De=(()=>{class t{constructor(e){this.translate=e,this.langs=["fr","en","ar"],this.translate.setDefaultLang("fr");let n=localStorage.getItem("preferredLanguage")||"fr";this.translate.use(n)}setLanguage(e){localStorage.setItem("preferredLanguage",e),this.translate.use(e)}getCurrentLang(){return this.translate.currentLang}static{this.\u0275fac=function(n){return new(n||t)(o(T))}}static{this.\u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ee(t,r){t&1&&(E(),l(0,"svg",18),F(1,"polyline",19),u())}function Ie(t,r){if(t&1){let e=he();l(0,"div",14),V("click",function(){let i=ue(e).$implicit,a=R(2);return ce(a.selectLanguage(i.code))}),l(1,"span",15),x(2),u(),l(3,"span",16),x(4),u(),A(5,Ee,2,0,"svg",17),u()}if(t&2){let e=r.$implicit,n=R(2);q("active",e.code===n.currentLang),d(2),_(e.flag),d(2),_(e.name),d(),k("ngIf",e.code===n.currentLang)}}function je(t,r){if(t&1&&(l(0,"div",12),A(1,Ie,6,5,"div",13),u()),t&2){let e=R();d(),k("ngForOf",e.languages)}}var Xe=(()=>{class t{constructor(e){this.langageService=e,this.isOpen=!1,this.languages=[{code:"fr",name:"Fran\xE7ais",flag:"\u{1F1EB}\u{1F1F7}"},{code:"en",name:"English",flag:"\u{1F1EC}\u{1F1E7}"},{code:"ar",name:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",flag:"\u{1F1F8}\u{1F1E6}"},{code:"es",name:"Espa\xF1ol",flag:"\u{1F1EA}\u{1F1F8}"},{code:"wo",name:"Wolof",flag:"\u{1F1F8}\u{1F1F3}"}],this.currentLang=this.langageService.getCurrentLang()}toggleDropdown(){this.isOpen=!this.isOpen}selectLanguage(e){this.currentLang=e,this.langageService.setLanguage(e),this.isOpen=!1}getCurrentLanguage(){return this.languages.find(e=>e.code===this.currentLang)}onDocumentClick(e){e.target.closest(".lang-selector-modern")||(this.isOpen=!1)}static{this.\u0275fac=function(n){return new(n||t)(b(De))}}static{this.\u0275cmp=re({type:t,selectors:[["app-language-selector"]],hostBindings:function(n,i){n&1&&V("click",function(s){return i.onDocumentClick(s)},!1,de)},standalone:!0,features:[fe],decls:14,vars:5,consts:[[1,"lang-selector-modern"],[1,"lang-selector-wrapper",3,"click"],["width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"lang-icon"],["cx","12","cy","12","r","10"],["x1","2","y1","12","x2","22","y2","12"],["d","M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"],[1,"lang-selected"],[1,"lang-flag"],[1,"lang-name"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2",1,"lang-arrow"],["points","6 9 12 15 18 9"],["class","lang-dropdown",4,"ngIf"],[1,"lang-dropdown"],["class","lang-option",3,"active","click",4,"ngFor","ngForOf"],[1,"lang-option",3,"click"],[1,"lang-option-flag"],[1,"lang-option-name"],["class","lang-check","width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3",4,"ngIf"],["width","16","height","16","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","3",1,"lang-check"],["points","20 6 9 17 4 12"]],template:function(n,i){if(n&1&&(l(0,"div",0)(1,"div",1),V("click",function(){return i.toggleDropdown()}),E(),l(2,"svg",2),F(3,"circle",3)(4,"line",4)(5,"path",5),u(),ge(),l(6,"span",6)(7,"span",7),x(8),u(),l(9,"span",8),x(10),u()(),E(),l(11,"svg",9),F(12,"polyline",10),u()(),A(13,je,2,1,"div",11),u()),n&2){let a,s;d(),q("open",i.isOpen),d(7),_((a=i.getCurrentLanguage())==null?null:a.flag),d(2),_((s=i.getCurrentLanguage())==null?null:s.name),d(3),k("ngIf",i.isOpen)}},dependencies:[ve,me,Ce,ye],styles:[".lang-selector-modern[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;z-index:1001}.lang-selector-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;gap:10px;padding:10px 14px;background:#33333314;border:2px solid rgba(51,51,51,.15);border-radius:12px;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);min-width:160px;-webkit-user-select:none;user-select:none}.lang-selector-wrapper[_ngcontent-%COMP%]:hover{background:#3333331f;border-color:#33333340;transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.lang-selector-wrapper.open[_ngcontent-%COMP%]{background:#33333326;border-color:#333;box-shadow:0 0 0 3px #3333331a}.lang-icon[_ngcontent-%COMP%]{color:#333;flex-shrink:0;transition:transform .3s ease}.lang-selector-wrapper[_ngcontent-%COMP%]:hover   .lang-icon[_ngcontent-%COMP%]{transform:rotate(15deg) scale(1.1)}.lang-selected[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1;min-width:0}.lang-flag[_ngcontent-%COMP%]{font-size:18px;line-height:1}.lang-name[_ngcontent-%COMP%]{color:#333;font-size:14px;font-weight:600;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.lang-arrow[_ngcontent-%COMP%]{color:#333;flex-shrink:0;transition:transform .3s ease;pointer-events:none}.lang-selector-wrapper[_ngcontent-%COMP%]:hover   .lang-arrow[_ngcontent-%COMP%], .lang-selector-wrapper.open[_ngcontent-%COMP%]   .lang-arrow[_ngcontent-%COMP%]{transform:translateY(2px) rotate(180deg)}.lang-dropdown[_ngcontent-%COMP%]{position:absolute;top:calc(100% + 8px);left:0;right:0;background:#fff;border:2px solid rgba(51,51,51,.15);border-radius:12px;box-shadow:0 8px 24px #00000026;overflow:hidden;animation:_ngcontent-%COMP%_slideDown .3s cubic-bezier(.4,0,.2,1);z-index:1002;min-width:160px}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.lang-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;cursor:pointer;transition:all .2s ease;border-bottom:1px solid rgba(51,51,51,.05)}.lang-option[_ngcontent-%COMP%]:last-child{border-bottom:none}.lang-option[_ngcontent-%COMP%]:hover{background:#ffdd3326}.lang-option.active[_ngcontent-%COMP%]{background:#ffdd3340;font-weight:700}.lang-option-flag[_ngcontent-%COMP%]{font-size:20px;line-height:1;flex-shrink:0}.lang-option-name[_ngcontent-%COMP%]{flex:1;color:#333;font-size:15px;font-weight:600;white-space:nowrap}.lang-check[_ngcontent-%COMP%]{color:#333;flex-shrink:0;opacity:.8}@media (max-width: 991px){.lang-selector-wrapper[_ngcontent-%COMP%]{min-width:140px;padding:8px 12px;gap:8px}.lang-icon[_ngcontent-%COMP%]{width:18px;height:18px}.lang-flag[_ngcontent-%COMP%]{font-size:16px}.lang-name[_ngcontent-%COMP%]{font-size:13px}.lang-arrow[_ngcontent-%COMP%]{width:14px;height:14px}.lang-dropdown[_ngcontent-%COMP%]{min-width:140px}.lang-option[_ngcontent-%COMP%]{padding:10px 14px;gap:10px}.lang-option-flag[_ngcontent-%COMP%]{font-size:18px}.lang-option-name[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.lang-selector-wrapper[_ngcontent-%COMP%]{min-width:120px;padding:6px 10px}.lang-name[_ngcontent-%COMP%]{font-size:12px}.lang-dropdown[_ngcontent-%COMP%]{min-width:120px}}"]})}}return t})();export{p as a,T as b,$e as c,ye as d,Xe as e};
